{"ast":null,"code":"// import React from \"react\";\n// const HRDashboard = () => {\n//   return (\n//     <div>\n//       <h1>HR Dashboard Loaded!</h1>\n//     </div>\n//   );\n// };\n// export default HRDashboard;\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HRDashboard=()=>{const[employeeCount,setEmployeeCount]=useState(0);const[pendingLeaves,setPendingLeaves]=useState(0);const[payrollStatus,setPayrollStatus]=useState(\"\");useEffect(()=>{const fetchDashboardData=async()=>{try{const token=localStorage.getItem(\"token\");const employeesRes=await axios.get(\"http://127.0.0.1:8000/api/employees/count/\",{headers:{Authorization:`Bearer ${token}`}});const leavesRes=await axios.get(\"http://127.0.0.1:8000/api/leaves/pending/count/\",{headers:{Authorization:`Bearer ${token}`}});const payrollRes=await axios.get(\"http://127.0.0.1:8000/api/payroll/status/\",{headers:{Authorization:`Bearer ${token}`}});setEmployeeCount(employeesRes.data.count);setPendingLeaves(leavesRes.data.count);setPayrollStatus(payrollRes.data.status);}catch(error){console.error(\"Error fetching dashboard data\",error);}};fetchDashboardData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"HR Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Employees\"}),/*#__PURE__*/_jsx(\"p\",{children:employeeCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pending Leave Requests\"}),/*#__PURE__*/_jsx(\"p\",{children:pendingLeaves})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Payroll Status\"}),/*#__PURE__*/_jsx(\"p\",{children:payrollStatus})]})]})]});};export default HRDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","HRDashboard","employeeCount","setEmployeeCount","pendingLeaves","setPendingLeaves","payrollStatus","setPayrollStatus","fetchDashboardData","token","localStorage","getItem","employeesRes","get","headers","Authorization","leavesRes","payrollRes","data","count","status","error","console","className","children"],"sources":["C:/Users/gowth/OneDrive/Desktop/paysphere/PaySphere-Comprehensive-Payroll-Services_Feb_2025/paysphere-frontend/src/pages/Dashboard/HRDashboard.jsx"],"sourcesContent":["// import React from \"react\";\r\n\r\n// const HRDashboard = () => {\r\n//   return (\r\n//     <div>\r\n//       <h1>HR Dashboard Loaded!</h1>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default HRDashboard;\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst HRDashboard = () => {\r\n  const [employeeCount, setEmployeeCount] = useState(0);\r\n  const [pendingLeaves, setPendingLeaves] = useState(0);\r\n  const [payrollStatus, setPayrollStatus] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        const employeesRes = await axios.get(\"http://127.0.0.1:8000/api/employees/count/\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const leavesRes = await axios.get(\"http://127.0.0.1:8000/api/leaves/pending/count/\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const payrollRes = await axios.get(\"http://127.0.0.1:8000/api/payroll/status/\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        setEmployeeCount(employeesRes.data.count);\r\n        setPendingLeaves(leavesRes.data.count);\r\n        setPayrollStatus(payrollRes.data.status);\r\n      } catch (error) {\r\n        console.error(\"Error fetching dashboard data\", error);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2>HR Dashboard</h2>\r\n      <div className=\"dashboard-cards\">\r\n        <div className=\"card\">\r\n          <h3>Total Employees</h3>\r\n          <p>{employeeCount}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Pending Leave Requests</h3>\r\n          <p>{pendingLeaves}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Payroll Status</h3>\r\n          <p>{payrollStatus}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HRDashboard;\r\n"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACU,aAAa,CAAEC,gBAAgB,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACY,aAAa,CAAEC,gBAAgB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,4CAA4C,CAAE,CACjFC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAO,SAAS,CAAG,KAAM,CAAApB,KAAK,CAACiB,GAAG,CAAC,iDAAiD,CAAE,CACnFC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAQ,UAAU,CAAG,KAAM,CAAArB,KAAK,CAACiB,GAAG,CAAC,2CAA2C,CAAE,CAC9EC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEFN,gBAAgB,CAACS,YAAY,CAACM,IAAI,CAACC,KAAK,CAAC,CACzCd,gBAAgB,CAACW,SAAS,CAACE,IAAI,CAACC,KAAK,CAAC,CACtCZ,gBAAgB,CAACU,UAAU,CAACC,IAAI,CAACE,MAAM,CAAC,CAC1C,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CACF,CAAC,CAEDb,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1B,IAAA,OAAA0B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBxB,KAAA,QAAKuB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxB,KAAA,QAAKuB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1B,IAAA,OAAA0B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB1B,IAAA,MAAA0B,QAAA,CAAItB,aAAa,CAAI,CAAC,EACnB,CAAC,cACNF,KAAA,QAAKuB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1B,IAAA,OAAA0B,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/B1B,IAAA,MAAA0B,QAAA,CAAIpB,aAAa,CAAI,CAAC,EACnB,CAAC,cACNJ,KAAA,QAAKuB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1B,IAAA,OAAA0B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB1B,IAAA,MAAA0B,QAAA,CAAIlB,aAAa,CAAI,CAAC,EACnB,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}