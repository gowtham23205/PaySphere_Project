{"ast":null,"code":"// import React from \"react\";\n// const EmployeeDashboard = () => {\n//   return (\n//     <div>\n//       <h1>Employee Dashboard Loaded!</h1>\n//     </div>\n//   );\n// };\n// export default EmployeeDashboard;\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeDashboard=()=>{const[leaveBalance,setLeaveBalance]=useState(0);const[salary,setSalary]=useState(0);const[recentLeaves,setRecentLeaves]=useState([]);useEffect(()=>{const fetchEmployeeData=async()=>{try{const token=localStorage.getItem(\"token\");const leaveRes=await axios.get(\"http://127.0.0.1:8000/api/employee/leave-balance/\",{headers:{Authorization:`Bearer ${token}`}});const salaryRes=await axios.get(\"http://127.0.0.1:8000/api/employee/salary/\",{headers:{Authorization:`Bearer ${token}`}});const recentLeavesRes=await axios.get(\"http://127.0.0.1:8000/api/employee/recent-leaves/\",{headers:{Authorization:`Bearer ${token}`}});setLeaveBalance(leaveRes.data.balance);setSalary(salaryRes.data.salary);setRecentLeaves(recentLeavesRes.data);}catch(error){console.error(\"Error fetching employee data\",error);}};fetchEmployeeData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Employee Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Leave Balance\"}),/*#__PURE__*/_jsxs(\"p\",{children:[leaveBalance,\" days\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Salary\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"$\",salary]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-leaves\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recent Leave Requests\"}),/*#__PURE__*/_jsx(\"ul\",{children:recentLeaves.length>0?recentLeaves.map((leave,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[leave.date,\" - \",leave.status]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No recent leave requests\"})})]})]});};export default EmployeeDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","EmployeeDashboard","leaveBalance","setLeaveBalance","salary","setSalary","recentLeaves","setRecentLeaves","fetchEmployeeData","token","localStorage","getItem","leaveRes","get","headers","Authorization","salaryRes","recentLeavesRes","data","balance","error","console","className","children","length","map","leave","index","date","status"],"sources":["C:/Users/gowth/OneDrive/Desktop/paysphere/PaySphere-Comprehensive-Payroll-Services_Feb_2025/paysphere-frontend/src/pages/Dashboard/EmployeeDashboard.jsx"],"sourcesContent":["// import React from \"react\";\r\n\r\n// const EmployeeDashboard = () => {\r\n//   return (\r\n//     <div>\r\n//       <h1>Employee Dashboard Loaded!</h1>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default EmployeeDashboard;\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst EmployeeDashboard = () => {\r\n  const [leaveBalance, setLeaveBalance] = useState(0);\r\n  const [salary, setSalary] = useState(0);\r\n  const [recentLeaves, setRecentLeaves] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchEmployeeData = async () => {\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n\r\n        const leaveRes = await axios.get(\"http://127.0.0.1:8000/api/employee/leave-balance/\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const salaryRes = await axios.get(\"http://127.0.0.1:8000/api/employee/salary/\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        const recentLeavesRes = await axios.get(\"http://127.0.0.1:8000/api/employee/recent-leaves/\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        setLeaveBalance(leaveRes.data.balance);\r\n        setSalary(salaryRes.data.salary);\r\n        setRecentLeaves(recentLeavesRes.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching employee data\", error);\r\n      }\r\n    };\r\n\r\n    fetchEmployeeData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2>Employee Dashboard</h2>\r\n      <div className=\"dashboard-cards\">\r\n        <div className=\"card\">\r\n          <h3>Leave Balance</h3>\r\n          <p>{leaveBalance} days</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Salary</h3>\r\n          <p>${salary}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"recent-leaves\">\r\n        <h3>Recent Leave Requests</h3>\r\n        <ul>\r\n          {recentLeaves.length > 0 ? (\r\n            recentLeaves.map((leave, index) => (\r\n              <li key={index}>\r\n                {leave.date} - {leave.status}\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p>No recent leave requests</p>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeDashboard;\r\n"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACU,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAACY,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,mDAAmD,CAAE,CACpFC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAO,SAAS,CAAG,KAAM,CAAApB,KAAK,CAACiB,GAAG,CAAC,4CAA4C,CAAE,CAC9EC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEF,KAAM,CAAAQ,eAAe,CAAG,KAAM,CAAArB,KAAK,CAACiB,GAAG,CAAC,mDAAmD,CAAE,CAC3FC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUN,KAAK,EAAG,CAC9C,CAAC,CAAC,CAEFN,eAAe,CAACS,QAAQ,CAACM,IAAI,CAACC,OAAO,CAAC,CACtCd,SAAS,CAACW,SAAS,CAACE,IAAI,CAACd,MAAM,CAAC,CAChCG,eAAe,CAACU,eAAe,CAACC,IAAI,CAAC,CACvC,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAEDZ,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACER,KAAA,QAAKsB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzB,IAAA,OAAAyB,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BvB,KAAA,QAAKsB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BvB,KAAA,QAAKsB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzB,IAAA,OAAAyB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBvB,KAAA,MAAAuB,QAAA,EAAIrB,YAAY,CAAC,OAAK,EAAG,CAAC,EACvB,CAAC,cACNF,KAAA,QAAKsB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBzB,IAAA,OAAAyB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfvB,KAAA,MAAAuB,QAAA,EAAG,GAAC,CAACnB,MAAM,EAAI,CAAC,EACb,CAAC,EACH,CAAC,cACNJ,KAAA,QAAKsB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BzB,IAAA,OAAAyB,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BzB,IAAA,OAAAyB,QAAA,CACGjB,YAAY,CAACkB,MAAM,CAAG,CAAC,CACtBlB,YAAY,CAACmB,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBAC5B3B,KAAA,OAAAuB,QAAA,EACGG,KAAK,CAACE,IAAI,CAAC,KAAG,CAACF,KAAK,CAACG,MAAM,GADrBF,KAEL,CACL,CAAC,cAEF7B,IAAA,MAAAyB,QAAA,CAAG,0BAAwB,CAAG,CAC/B,CACC,CAAC,EACF,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}