{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gowth\\\\OneDrive\\\\Desktop\\\\paysphere\\\\PaySphere-Comprehensive-Payroll-Services_Feb_2025\\\\paysphere-frontend\\\\src\\\\pages\\\\Employees\\\\EmployeeProfile.jsx\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from \"react\";\n// import { useParams } from \"react-router-dom\";\n// import axios from \"axios\";\n\n// const EmployeeProfile = () => {\n//   const { id } = useParams();\n//   const [employee, setEmployee] = useState(null);\n\n//   useEffect(() => {\n//     const fetchEmployeeDetails = async () => {\n//       try {\n//         const token = localStorage.getItem(\"token\");\n//         const response = await axios.get(`http://127.0.0.1:8000/api/employees/${id}/`, {\n//           headers: { Authorization: `Bearer ${token}` },\n//         });\n//         setEmployee(response.data);\n//       } catch (error) {\n//         console.error(\"Error fetching employee details\", error);\n//       }\n//     };\n\n//     fetchEmployeeDetails();\n//   }, [id]);\n\n//   if (!employee) {\n//     return <p>Loading employee details...</p>;\n//   }\n\n//   return (\n//     <div className=\"employee-profile\">\n//       <h2>Employee Profile</h2>\n//       <p><strong>Name:</strong> {employee.name}</p>\n//       <p><strong>Email:</strong> {employee.email}</p>\n//       <p><strong>Role:</strong> {employee.role}</p>\n//       <p><strong>Salary:</strong> ${employee.salary}</p>\n//     </div>\n//   );\n// };\n\n// export default EmployeeProfile;\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EmployeeProfile = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [employee, setEmployee] = useState(null);\n  const [salary, setSalary] = useState(null);\n  const [leaves, setLeaves] = useState([]);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const fetchDetails = async () => {\n      try {\n        const userRes = await axios.get(`http://localhost:8000/api/users/${id}/`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setEmployee(userRes.data);\n        const salaryRes = await axios.get('http://localhost:8000/api/salary/current_salary_details/', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setSalary(salaryRes.data);\n        const leaveRes = await axios.get('http://localhost:8000/api/leave/all/', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const userLeaves = leaveRes.data.filter(l => l.employee === parseInt(id));\n        setLeaves(userLeaves);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchDetails();\n  }, [id]);\n  if (!employee) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [employee.first_name, \" \", employee.last_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Email: \", employee.email]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Status: \", employee.is_active ? 'Active' : 'Inactive']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Salary Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), salary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Basic Salary: \", salary.basic_salary]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Net Salary: \", salary.net_salary]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No salary data.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Leave Records\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: leaves.map(leave => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [leave.reason, \" - \", leave.status]\n      }, leave.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(EmployeeProfile, \"3f5xQeDVGy6LbUUQgg60kkdvd+w=\", false, function () {\n  return [useParams];\n});\n_c = EmployeeProfile;\nexport default EmployeeProfile;\nvar _c;\n$RefreshReg$(_c, \"EmployeeProfile\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","EmployeeProfile","_s","id","employee","setEmployee","salary","setSalary","leaves","setLeaves","token","localStorage","getItem","fetchDetails","userRes","get","headers","Authorization","data","salaryRes","leaveRes","userLeaves","filter","l","parseInt","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","first_name","last_name","email","is_active","basic_salary","net_salary","map","leave","reason","status","_c","$RefreshReg$"],"sources":["C:/Users/gowth/OneDrive/Desktop/paysphere/PaySphere-Comprehensive-Payroll-Services_Feb_2025/paysphere-frontend/src/pages/Employees/EmployeeProfile.jsx"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import axios from \"axios\";\r\n\r\n// const EmployeeProfile = () => {\r\n//   const { id } = useParams();\r\n//   const [employee, setEmployee] = useState(null);\r\n\r\n//   useEffect(() => {\r\n//     const fetchEmployeeDetails = async () => {\r\n//       try {\r\n//         const token = localStorage.getItem(\"token\");\r\n//         const response = await axios.get(`http://127.0.0.1:8000/api/employees/${id}/`, {\r\n//           headers: { Authorization: `Bearer ${token}` },\r\n//         });\r\n//         setEmployee(response.data);\r\n//       } catch (error) {\r\n//         console.error(\"Error fetching employee details\", error);\r\n//       }\r\n//     };\r\n\r\n//     fetchEmployeeDetails();\r\n//   }, [id]);\r\n\r\n//   if (!employee) {\r\n//     return <p>Loading employee details...</p>;\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"employee-profile\">\r\n//       <h2>Employee Profile</h2>\r\n//       <p><strong>Name:</strong> {employee.name}</p>\r\n//       <p><strong>Email:</strong> {employee.email}</p>\r\n//       <p><strong>Role:</strong> {employee.role}</p>\r\n//       <p><strong>Salary:</strong> ${employee.salary}</p>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default EmployeeProfile;\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst EmployeeProfile = () => {\r\n  const { id } = useParams();\r\n  const [employee, setEmployee] = useState(null);\r\n  const [salary, setSalary] = useState(null);\r\n  const [leaves, setLeaves] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n\r\n    const fetchDetails = async () => {\r\n      try {\r\n        const userRes = await axios.get(`http://localhost:8000/api/users/${id}/`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setEmployee(userRes.data);\r\n\r\n        const salaryRes = await axios.get('http://localhost:8000/api/salary/current_salary_details/', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setSalary(salaryRes.data);\r\n\r\n        const leaveRes = await axios.get('http://localhost:8000/api/leave/all/', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        const userLeaves = leaveRes.data.filter(l => l.employee === parseInt(id));\r\n        setLeaves(userLeaves);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    fetchDetails();\r\n  }, [id]);\r\n\r\n  if (!employee) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>{employee.first_name} {employee.last_name}</h2>\r\n      <p>Email: {employee.email}</p>\r\n      <p>Status: {employee.is_active ? 'Active' : 'Inactive'}</p>\r\n\r\n      <h3>Salary Details</h3>\r\n      {salary ? (\r\n        <>\r\n          <p>Basic Salary: {salary.basic_salary}</p>\r\n          <p>Net Salary: {salary.net_salary}</p>\r\n        </>\r\n      ) : <p>No salary data.</p>}\r\n\r\n      <h3>Leave Records</h3>\r\n      <ul>\r\n        {leaves.map(leave => (\r\n          <li key={leave.id}>{leave.reason} - {leave.status}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}